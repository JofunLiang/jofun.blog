---
title: 理解高阶函数与闭包
date: 2019-08-21
toc: false
comments: false
tags:
    - 高阶函数
    - 闭包
categories:
    - JavaScript
---

## 高阶函数

高阶函数是至少满足下列一个条件的函数:
* 接受一个或多个函数作为输入
* 输出一个函数

即接受一个或多个函数作为参数或返回值是一个函数的函数，就称为高阶函数。

在JavaScript中，函数是一等对象，如：
```js
function foo () {}
      
foo.fname = '函数对象'

console.log(foo.fname) // => '函数对象'
```

在JavaScript中，函数是一种数据类型，变量可以指向一个函数，如：
```js
const foo = function () {
  console.log('foo')
}
```

既然变量可以指向函数，函数的参数能接收变量，那么一个函数就可以接收另一个函数作为参数:
```js
function A () {
  console.log('A')
}

function B (fn) {
  console.log('B')
  fn()
}

// 调用
B(A)
```

函数可以作为返回值输出：
```js
function A () {
  let count = 0;
  
  return function () {
    return count++;
  }
}

const add = A()

add()
```

高阶函数在函数式编程中被广泛使用，在JavaScript数组对象中存在很多的使用高阶函数的方法，如：
* Array.map
* Array.reduce
* Array.filter
* Array.some
* Array.sort
* Array.from
* Array.every
* Array.forEach

## 理解闭包

什么是闭包？

闭包是定义在一个函数内部且引用了该函数内部变量的函数。闭包是将函数内部和函数外部连接起来的桥梁。